import{S as le,i as oe,s as ne,e as w,v as S,j as V,c as P,a as x,w as L,l as A,d as g,b as E,f as y,x as q,H as k,p as m,n as $,A as M,T as ae,o as C,W as re,t as K,g as Q,m as F,D as B,M as X,N as Y,O as Z,P as ee}from"../../chunks/index-745e5dc0.js";import{P as ie,B as te,A as ce}from"../../chunks/ArrowLeftIcon-8af3a145.js";import{n as R}from"../../chunks/info-ca0dd7d5.js";const fe=n=>({}),T=n=>({slot:"icon-start"}),ue=n=>({}),W=n=>({slot:"icon-end"});function z(n,t,s){const e=n.slice();return e[6]=t[s],e}function G(n){let t,s,e,l;return s=new ie({props:{post:n[6]}}),{c(){t=w("div"),S(s.$$.fragment),e=V(),this.h()},l(o){t=P(o,"DIV",{class:!0});var r=x(t);L(s.$$.fragment,r),e=A(r),r.forEach(g),this.h()},h(){E(t,"class","py-8 first:pt-0")},m(o,r){y(o,t,r),q(s,t,null),k(t,e),l=!0},p(o,r){const _={};r&1&&(_.post=o[6]),s.$set(_)},i(o){l||(m(s.$$.fragment,o),l=!0)},o(o){$(s.$$.fragment,o),l=!1},d(o){o&&g(t),M(s)}}}function _e(n){let t;return{c(){t=w("div")},l(s){t=P(s,"DIV",{}),x(t).forEach(g)},m(s,e){y(s,t,e)},p:B,i:B,o:B,d(s){s&&g(t)}}}function pe(n){let t,s;return t=new te({props:{raised:!1,href:`/posts/page/${n[1]-1}`,$$slots:{"icon-end":[he],"icon-start":[ge],default:[de]},$$scope:{ctx:n}}}),{c(){S(t.$$.fragment)},l(e){L(t.$$.fragment,e)},m(e,l){q(t,e,l),s=!0},p(e,l){const o={};l&2&&(o.href=`/posts/page/${e[1]-1}`),l&32&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){s||(m(t.$$.fragment,e),s=!0)},o(e){$(t.$$.fragment,e),s=!1},d(e){M(t,e)}}}function de(n){let t;return{c(){t=K("Previous")},l(s){t=Q(s,"Previous")},m(s,e){y(s,t,e)},d(s){s&&g(t)}}}function me(n){let t,s;return t=new ce({props:{class:"h-5 w-5"}}),{c(){S(t.$$.fragment)},l(e){L(t.$$.fragment,e)},m(e,l){q(t,e,l),s=!0},p:B,i(e){s||(m(t.$$.fragment,e),s=!0)},o(e){$(t.$$.fragment,e),s=!1},d(e){M(t,e)}}}function ge(n){let t;const s=n[4].default,e=X(s,n,n[5],T),l=e||me();return{c(){l&&l.c()},l(o){l&&l.l(o)},m(o,r){l&&l.m(o,r),t=!0},p(o,r){e&&e.p&&(!t||r&32)&&Y(e,s,o,o[5],t?ee(s,o[5],r,fe):Z(o[5]),T)},i(o){t||(m(l,o),t=!0)},o(o){$(l,o),t=!1},d(o){l&&l.d(o)}}}function he(n){let t;const s=n[4].default,e=X(s,n,n[5],W);return{c(){e&&e.c()},l(l){e&&e.l(l)},m(l,o){e&&e.m(l,o),t=!0},p(l,o){e&&e.p&&(!t||o&32)&&Y(e,s,l,l[5],t?ee(s,l[5],o,ue):Z(l[5]),W)},i(l){t||(m(e,l),t=!0)},o(l){$(e,l),t=!1},d(l){e&&e.d(l)}}}function J(n){let t,s;return t=new te({props:{raised:!1,href:`/posts/page/${n[1]+1}`,$$slots:{default:[$e]},$$scope:{ctx:n}}}),{c(){S(t.$$.fragment)},l(e){L(t.$$.fragment,e)},m(e,l){q(t,e,l),s=!0},p(e,l){const o={};l&2&&(o.href=`/posts/page/${e[1]+1}`),l&32&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){s||(m(t.$$.fragment,e),s=!0)},o(e){$(t.$$.fragment,e),s=!1},d(e){M(t,e)}}}function $e(n){let t;return{c(){t=K("Next")},l(s){t=Q(s,"Next")},m(s,e){y(s,t,e)},d(s){s&&g(t)}}}function ve(n){let t,s,e,l,o,r,_,d,c,j,I;document.title=t=R+" | Posts";let b=n[0],i=[];for(let a=0;a<b.length;a+=1)i[a]=G(z(n,b,a));const se=a=>$(i[a],1,1,()=>{i[a]=null}),H=[pe,_e],v=[];function O(a,u){return a[3]?1:0}d=O(n),c=v[d]=H[d](n);let f=n[2]&&J(n);return{c(){s=V(),e=w("div"),l=w("div"),o=w("main");for(let a=0;a<i.length;a+=1)i[a].c();r=V(),_=w("div"),c.c(),j=V(),f&&f.c(),this.h()},l(a){ae('[data-svelte="svelte-1j9di4b"]',document.head).forEach(g),s=A(a),e=P(a,"DIV",{class:!0});var h=x(e);l=P(h,"DIV",{class:!0});var p=x(l);o=P(p,"MAIN",{class:!0});var D=x(o);for(let U=0;U<i.length;U+=1)i[U].l(D);D.forEach(g),p.forEach(g),r=A(h),_=P(h,"DIV",{class:!0});var N=x(_);c.l(N),j=A(N),f&&f.l(N),N.forEach(g),h.forEach(g),this.h()},h(){E(o,"class","prose prose-slate prose-sm sm:prose sm:prose-slate sm:prose-lg sm:max-w-none dark:prose-invert flex flex-col w-full max-w-2xl flex-grow py-4 px-4"),E(l,"class","mx-auto flex-grow divide-y divide-slate-300 dark:divide-slate-700 max-w-2xl"),E(_,"class","flex visible items-center justify-between pt-8 opacity-70"),E(e,"class","flex flex-col flex-grow")},m(a,u){y(a,s,u),y(a,e,u),k(e,l),k(l,o);for(let h=0;h<i.length;h+=1)i[h].m(o,null);k(e,r),k(e,_),v[d].m(_,null),k(_,j),f&&f.m(_,null),I=!0},p(a,[u]){if((!I||u&0)&&t!==(t=R+" | Posts")&&(document.title=t),u&1){b=a[0];let p;for(p=0;p<b.length;p+=1){const D=z(a,b,p);i[p]?(i[p].p(D,u),m(i[p],1)):(i[p]=G(D),i[p].c(),m(i[p],1),i[p].m(o,null))}for(F(),p=b.length;p<i.length;p+=1)se(p);C()}let h=d;d=O(a),d===h?v[d].p(a,u):(F(),$(v[h],1,1,()=>{v[h]=null}),C(),c=v[d],c?c.p(a,u):(c=v[d]=H[d](a),c.c()),m(c,1),c.m(_,j)),a[2]?f?(f.p(a,u),u&4&&m(f,1)):(f=J(a),f.c(),m(f,1),f.m(_,null)):f&&(F(),$(f,1,1,()=>{f=null}),C())},i(a){if(!I){for(let u=0;u<b.length;u+=1)m(i[u]);m(c),m(f),I=!0}},o(a){i=i.filter(Boolean);for(let u=0;u<i.length;u+=1)$(i[u]);$(c),$(f),I=!1},d(a){a&&g(s),a&&g(e),re(i,a),v[d].d(),f&&f.d()}}}const xe=!0,ye=async({fetch:n,params:t})=>{let s=1,e=10;if(t.page)try{s=parseInt(t.page.split("page/").pop())}catch(r){console.error(r)}const l=new URLSearchParams;l.set("page",s),l.set("limit",e);const o=await n(`/posts.json?${l.toString()}`).then(r=>r.json());return o.length==0&&s>1?{redirect:"/posts",status:302}:(console.log("load data -> ",o),{props:{posts:o,page:s,limit:e}})};function be(n,t,s){let e,l,{$$slots:o={},$$scope:r}=t,{posts:_}=t,{page:d}=t;return n.$$set=c=>{"posts"in c&&s(0,_=c.posts),"page"in c&&s(1,d=c.page),"$$scope"in c&&s(5,r=c.$$scope)},n.$$.update=()=>{var c;n.$$.dirty&2&&s(3,e=d===1),n.$$.dirty&1&&s(2,l=(c=_[_.length-1])==null?void 0:c.previous)},[_,d,l,e,o,r]}class Ie extends le{constructor(t){super(),oe(this,t,be,ve,ne,{posts:0,page:1})}}export{Ie as default,ye as load,xe as prerender};
